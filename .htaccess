RewriteEngine on
RewriteCond %{SERVER_PORT} 80
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,QSA]
RewriteCond $1 !^(index\.php|images|css|assets|uploads|robots\.txt)
RewriteRule ^(.*)$ index.php/$1 [L]